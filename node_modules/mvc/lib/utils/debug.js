var util = require('util'),
	fs = require('fs'),
	Config = require('../config');
var MSG_TYPE = exports.type = {
	ERR: 'ERR: ',
	WARN: 'WARN: ',
	MSG: 'MSG: '
}
exports.debug = function(message, type){
	if(!type){
		type = 'MSG';
	}

	if(message.constructor !== String){
		message = util.inspect(message);
	}
	var now = new Date();
	var fileName =  now.getFullYear().toString() + (now.getMonth() + 1).toString() + now.getDate().toString();
	var file = Config.app_path + '/logs/' + fileName + ".log";
	fs.appendFile(file, MSG_TYPE[type] + message + "\r\n", function(err){
		if(err){
			console.log(err);
		}
	});
};